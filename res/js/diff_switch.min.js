var enableDiffSwitch=function(t){var a,n=document.getElementById("diff"),l=document.createElement("a");l.className="diff-switch",l.text=t.i18n.diffSideBySide,l.href="#",l.addEventListener("click",function(e){var d,i;e.preventDefault(),document.getElementById("diff-table")?a.style.length?(n.style="display: none",a.style="",l.text=t.i18n.diffList,l.className="diff-switch diff-switch-list"):(n.style="",a.style="display: none",l.text=t.i18n.diffSideBySide,l.className="diff-switch"):((a=document.createElement("table")).id="diff-table",Array.prototype.forEach.call(n.children[0].children,function(e,t){var n;i&&2!=i.children.length&&"SPAN"!=e.children[0].tagName||(i&&1==i.children.length&&("INS"==d?i.insertBefore(document.createElement("td"),i.children[0]):i.appendChild(document.createElement("td"))),i=document.createElement("tr"),a.appendChild(i),d=""),!d||"SPAN"==e.children[0].tagName||"DEL"==e.children[0].tagName&&"INS"==d||"INS"==e.children[0].tagName&&"DEL"==d?((n=document.createElement("td")).innerHTML=e.innerHTML,n.className="diff-col-"+e.children[0].tagName.toLowerCase(),i.appendChild(n),"SPAN"==e.children[0].tagName&&i.appendChild(n.cloneNode(!0))):d==e.children[0].tagName&&("INS"==d?i.insertBefore(document.createElement("td"),i.children[0]):i.appendChild(document.createElement("td")),(n=document.createElement("td")).innerHTML=e.innerHTML,n.className="diff-col-"+e.children[0].tagName.toLowerCase(),(i=document.createElement("tr")).appendChild(n),a.appendChild(i)),d=e.children[0].tagName}),i&&1==i.children.length&&("INS"==d?i.insertBefore(document.createElement("td"),i.children[0]):i.appendChild(document.createElement("td"))),n.parentNode.appendChild(a),n.style="display: none",l.text=t.i18n.diffList,l.className="diff-switch diff-switch-list")}),n.parentNode.insertBefore(l,n)};